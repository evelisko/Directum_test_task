# Тестовое задание на должность Backend-разработчик сервисов.

**ML:** opencv, pillow, keras, pandas, numpy.

**API:** flask

###Задание:

### 1. Поиск объектов

На изображении страницы необходимо найти местоположение логотипов и подписей. Для их поиска можно использовать как классические (алгоритмические) подходы computervision, так и подходы с использованием нейронных сетей.

На вход подается файл-изображение в формате ***.tif**. Адрес API и названия параметров для входных данных придумайте самостоятельно.

#### Данные для обучения

Вместе с заданием прилагается набор PNG-файлов с логотипами и подписями, а также XML-файлы, содержащие информацию о местоположении объектов. Эти данные можно использовать для обучения моделей и проверки реализации. XML-файлы содержат информацию в следующем виде:

``` xml
<?xml version="1.0" encoding="UTF-8"?>

<DL_DOCUMENT src="aah97e00-page02_1.tif" NrOfPages="1" docTag="xml">

<DL_PAGE gedi_type="DL_PAGE" src="aah97e00-page02_1.tif" pageID="1" width="2560" height="3296">

<DL_ZONE gedi_type="DLLogo" id="None" col="1074" row="18" width="374" height="219"> </DL_ZONE>

</DL_PAGE>

</DL_DOCUMENT>

</GEDI>
```

Информация о расположении объектов с типом **gedi_type** находится в поле **DL_ZONE****, где **col** и **row** – верхний левый угол обрамляющего прямоугольника, **width** и **height** – ширина и высота обрамляющего прямоугольника.

Изображения для обучения расположены в папке **pages/source**, а XML-файлы с информацией о логотипах в **pages/truth**. Для самопроверки рекомендуется разделить эти данные на два набора – для обучения и для тестирования.

#### Выходные данные

В ответе должна содержаться информацию о местоположении объектов. Местоположение задается с помощью верхнего левого угла, ширины и высоты обрамляющего прямоугольника. Пример:

``` json
{
 "type": "logo",
 "position": 
  {
      "left": 5,
      "top": 10,
      "width": 20,
      "height" 30
     },
 "source": 
  {
      "width": 250,
      "height": 250
  }
}
```

Для логотипов используйте тип **logo**, для подписей – **sign**. Не забудьте вернуть размеры оригинала. Все координаты и размеры указываются в пикселях.

### Jpython-notebook со всеми опреациями по обучени модели. 
   1. 
   2. 
   3.

### Последовательность действий.

#### 1 . Клонируем репозиторий - 
    
    $ git clone git@github.com:evelisko/Directum_test_task.git

#### 2. Открыть терминал. Перейти - 
В каталог - 
   
    Directum_test_task/Docker

#### 3. Собрать докер - образ
   
``` bash
$ sudo docker build -t doc_analizer .
```


#### 4. Запускаем контейнер

По умолчанию `*.h5` файлы с моделями сохраняются в каталоге "/Directum_test_task/data" там же должен находиться и файл конфигураций.

    docker run -d -p 8180:8180 -p 8181:8181 -v /home/sergey/Документы/Directum_test_task/data:/app/app/models doc_analizer 

#### 5. Проверяем что контейнер запущен -icon

    docker ps -a

#### 6. Проверяем, что наше api работает

Для этого необходимо выполнить код из ноутбука - Test_doc_analizer.ipynb. `**!^_^!**`

P.S. Файл конфигураций для сервера расположен - `Directum_test_task/Docker/app`. так удобней для работы примера.  
 В последствие его лучше вынести вынести во внешний каталог за пределы doker - образа. 


